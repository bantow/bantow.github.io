"use strict";!function(){var e=function(){var e=document.querySelector(".article-challenge-container"),t=e&&e.querySelector(".article-challenge-login-button");t&&t.addEventListener("click",(function(){var e=t.getAttribute("data-base-url")+encodeURIComponent(window.location.href);window.location.href=e}))};window.wafer&&window.wafer.ready((function(){window.wafer.on("fetch:success",(function(t,n){(t&&t.elem&&t.elem.id&&t.elem.id.indexOf("articleChallenge")>-1&&e(),t&&t.elem&&t.elem.classList&&t.elem.classList.contains("do-challenge-button"))&&function(e){var t=window.wafer.base.state.loyalty,n=t.articleChallenge.availableExecutionTimes,a=t.articleChallenge.currentExecutionTimes,r=t.articleChallenge.name;if(t.experiencePoint){var c=e.querySelector(".trophy-task-progress"),o=c.querySelector(".challenge-card-face-front path.trophy-circle-chart"),l=Number(o.getAttribute("stroke-dasharray")),i=a+1,s=n-i==0,u=i?i/n*l:0;if(c.setAttribute("data-percent","".concat(i,"/").concat(n)),o.setAttribute("stroke-dashoffset",u),s){var d=e.querySelector(".challenge-card-face-back"),w=d.querySelector(".go-challenge"),h=document.createElement("a");h.textContent=w.textContent;for(var f=0;f<w.attributes.length;f++){var m=w.attributes.item(f);h.setAttribute(m.nodeName,m.nodeValue)}w.parentNode.replaceChild(h,w);var y=window.YAHOO&&window.YAHOO.i13n&&window.YAHOO.i13n.rapidInstance||window.rapidInstance,g=JSON.parse(d.getAttribute("data-link-view"));y.beaconLinkViews([g]),setTimeout((function(){e.querySelector(".challenge-card").classList.toggle("is-flipped")}),1500)}}var p=e.querySelector("#loyalty-article-challenge");if(p){document.querySelector("body").appendChild(p.content.cloneNode(!0));var b=document.querySelector(".loyalty-toast-wrapper"),v=b.querySelector(".completed-title");v&&(v.textContent=r);var S=b.querySelector(".inner");S.classList.add("show"),setTimeout((function(){S.classList.remove("show")}),3500),setTimeout((function(){S.classList.add("D(n)")}),3650)}}(document.querySelector(".article-challenge-container"))}))}),window),document.querySelector(".article-challenge-container")&&e()}();